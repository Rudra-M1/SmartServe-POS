import{j as e,r as d,H as N,a as w}from"./app-S19h9DNE.js";import{c as h,M as k,S as C,C as b,a as p}from"./Card-BEfGtvOZ.js";import{P as y}from"./plus-C7cn3l7o.js";const S=h("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),q=h("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),T=h("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),$=h("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function P({children:o,onClick:r,variant:a="primary",className:c=""}){const i="px-6 py-2.5 rounded-xl font-semibold transition-all duration-300 shadow-md transform hover:-translate-y-0.5 active:scale-95",n={primary:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white hover:shadow-lg hover:shadow-indigo-500/30",secondary:"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200",danger:"bg-red-500 text-white hover:bg-red-600 shadow-red-500/30"};return e.jsx("button",{onClick:r,className:`${i} ${n[a]} ${c}`,children:o})}function M({message:o,type:r="success",onClose:a}){const[c,i]=d.useState(!1);d.useEffect(()=>{setTimeout(()=>i(!0),10);const u=setTimeout(()=>{i(!1),setTimeout(a,300)},3e3);return()=>clearTimeout(u)},[a]);const n={success:e.jsx(S,{className:"w-5 h-5 text-green-500"}),error:e.jsx($,{className:"w-5 h-5 text-red-500"}),info:e.jsx(q,{className:"w-5 h-5 text-blue-500"})},x={success:"border-green-100 bg-green-50/90 text-green-800",error:"border-red-100 bg-red-50/90 text-red-800",info:"border-blue-100 bg-blue-50/90 text-blue-800"};return e.jsxs("div",{className:`fixed bottom-8 left-1/2 transform -translate-x-1/2 z-50 flex items-center space-x-3 px-6 py-3 rounded-full shadow-antigravity border backdrop-blur-md transition-all duration-300 ${x[r]} ${c?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[n[r],e.jsx("span",{className:"font-medium",children:o})]})}function I({products:o=[]}){const[r,a]=d.useState([]),[c,i]=d.useState(""),[n,x]=d.useState(!1),u=s=>{a(l=>l.find(t=>t.id===s.id)?l.map(t=>t.id===s.id?{...t,qty:t.qty+1}:t):[...l,{...s,qty:1}])},f=(s,l)=>{a(g=>g.map(t=>t.id===s?{...t,qty:Math.max(0,t.qty+l)}:t).filter(t=>t.qty>0))},m=r.reduce((s,l)=>s+l.price*l.qty,0),j=(Array.isArray(o)?o:[]).filter(s=>s.name.toLowerCase().includes(c.toLowerCase())),v=()=>{r.length!==0&&w.post("/pos/checkout",{cart:r.map(s=>({id:s.id,quantity:s.qty,price:s.price}))},{onSuccess:()=>{x(!0),a([])}})};return e.jsxs(k,{children:[e.jsx(N,{title:"POS Point of Sale"}),e.jsxs("div",{className:"flex flex-col lg:flex-row h-[calc(100vh-8rem)] gap-6",children:[e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"mb-6 flex gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(C,{className:"absolute left-4 top-3.5 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search products...",value:c,onChange:s=>i(s.target.value),className:"w-full pl-12 pr-4 py-3 rounded-2xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500/50 shadow-sm bg-white/80 backdrop-blur-sm transition-all"})]}),e.jsx("div",{className:"flex gap-2",children:["All","Beverages","Bakery","Breakfast","Lunch","Electronics","Clothing","Home","Beauty"].map(s=>e.jsx("button",{className:"px-4 py-2 rounded-xl bg-white border border-gray-200 text-sm font-semibold text-gray-600 hover:bg-blue-50 hover:text-blue-600 hover:border-blue-200 transition-colors",children:s},s))})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4 overflow-y-auto pr-2 scrollbar-hide pb-20",children:j.map(s=>e.jsxs(b,{className:"p-0 overflow-hidden group cursor-pointer",onClick:()=>u(s),children:[e.jsxs("div",{className:"h-32 overflow-hidden relative",children:[e.jsx("img",{src:s.image||"https://via.placeholder.com/300",alt:s.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx(y,{className:"text-white w-8 h-8 drop-shadow-lg"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"font-bold text-gray-800 truncate",children:s.name}),e.jsxs("p",{className:"text-blue-600 font-semibold mt-1",children:["$",Number(s.price).toFixed(2)]})]})]},s.id))})]}),e.jsx("div",{className:"lg:w-96 flex flex-col",children:e.jsxs(b,{className:"flex-1 flex flex-col h-full border-blue-100 shadow-blue-500/5 ring-1 ring-blue-500/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-gray-100",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(p,{className:"w-5 h-5"}),"Current Bill"]}),e.jsxs("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-bold",children:[r.length," Items"]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-1 scrollbar-hide",children:r.length===0?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 opacity-60",children:[e.jsx(p,{className:"w-16 h-16 mb-2"}),e.jsx("p",{children:"Cart is empty"})]}):r.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-gray-50 border border-gray-100 group hover:shadow-sm transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:s.image||"https://via.placeholder.com/150",alt:"",className:"w-12 h-12 rounded-lg object-cover"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-sm text-gray-800",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["$",s.price]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg p-1 border border-gray-200",children:[e.jsx("button",{onClick:()=>f(s.id,-1),className:"p-1 hover:bg-gray-100 rounded-md text-gray-600 transition-colors",children:e.jsx(T,{className:"w-3 h-3"})}),e.jsx("span",{className:"text-sm font-bold w-4 text-center",children:s.qty}),e.jsx("button",{onClick:()=>f(s.id,1),className:"p-1 hover:bg-gray-100 rounded-md text-gray-600 transition-colors",children:e.jsx(y,{className:"w-3 h-3"})})]})]},s.id))}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-gray-500 text-sm",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["$",m.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-gray-500 text-sm",children:[e.jsx("span",{children:"Tax (10%)"}),e.jsxs("span",{children:["$",(m*.1).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-2xl font-bold text-gray-800",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$",(m*1.1).toFixed(2)]})]}),e.jsx(P,{onClick:v,className:"w-full py-4 text-lg shadow-lg shadow-indigo-500/30 font-bold tracking-wide",disabled:r.length===0,children:"Process Payment"})]})]})})]}),n&&e.jsx(M,{message:"Bill generated successfully!",type:"success",onClose:()=>x(!1)})]})}export{I as default};
